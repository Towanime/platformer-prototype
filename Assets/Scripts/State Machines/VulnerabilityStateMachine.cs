using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using MonsterLove.StateMachine;

public class VulnerabilityStateMachine : MonoBehaviour {

    public PlayerInput playerInput;
    public PlayerHealth playerHealth;
    private StateMachine<VulnerabilityStates> stateMachine;

    // Use this for initialization
    void Awake() {
        stateMachine = StateMachine<VulnerabilityStates>.Initialize(this, VulnerabilityStates.Vulnerable);
    }

    void Invulnerable_Enter()
    {
        playerHealth.BeginInvulnerable();
    }

    void Invulnerable_Update()
    {
        bool finished = playerHealth.UpdateInvulnerable();
        if (finished)
        {
            stateMachine.ChangeState(VulnerabilityStates.Vulnerable);
        }
    }

    public StateMachine<VulnerabilityStates> StateMachine
    {
        get { return stateMachine; }
    }
}
